<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monastery360 ‚Äì Discover Sikkim's Sacred Heritage</title>
<meta name="description" content="Explore the spiritual treasures of Sikkim's monasteries through immersive digital experiences, interactive maps, and rich cultural heritage.">
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.5.0/ol.css">
<link rel="stylesheet" href="assets/css/modern.css">
<link rel="stylesheet" href="assets/css/chatbot.css">
<style>
  /* Custom styles for map and components */
  #map { 
    width: 100%; 
    height: 600px; 
    border-radius: var(--radius-xl); 
    overflow: hidden;
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--secondary-200);
  }

  .ol-popup {
    background: white;
    padding: var(--space-3) var(--space-4);
    border: 1px solid var(--primary-200);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    font-weight: 500;
    color: var(--primary-700);
    min-width: 160px;
    backdrop-filter: blur(10px);
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-8);
    margin-top: var(--space-16);
  }

  .feature-card {
    text-align: center;
    padding: var(--space-8);
  }

  .feature-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto var(--space-4);
    border-radius: var(--radius-xl);
    background: linear-gradient(135deg, var(--primary-100), var(--accent-100));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-2xl);
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-6);
    margin: var(--space-16) 0;
  }

  .stat-card {
    text-align: center;
    padding: var(--space-6);
    background: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--secondary-200);
    transition: all var(--transition-base);
  }

  .stat-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .stat-number {
    font-size: var(--text-4xl);
    font-weight: 700;
    color: var(--primary-600);
    margin-bottom: var(--space-2);
  }

  .map-section {
    background: white;
    border-radius: var(--radius-2xl);
    padding: var(--space-12);
    margin: var(--space-20) 0;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--secondary-200);
  }

  /* Mobile hamburger menu */
  .mobile-menu-toggle {
    display: none;
    background: none;
    border: none;
    font-size: var(--text-2xl);
    color: var(--secondary-700);
    cursor: pointer;
  }

  .mobile-menu {
    display: none;
    position: fixed;
    top: 70px;
    left: 0;
    right: 0;
    background: white;
    border-bottom: 1px solid var(--secondary-200);
    box-shadow: var(--shadow-lg);
    z-index: var(--z-dropdown);
  }

  .mobile-menu.active {
    display: block;
  }

  .mobile-menu a {
    display: block;
    padding: var(--space-4) var(--space-6);
    color: var(--secondary-700);
    text-decoration: none;
    border-bottom: 1px solid var(--secondary-100);
  }

  .mobile-menu a:hover {
    background: var(--secondary-50);
  }

  @media (max-width: 768px) {
    .mobile-menu-toggle {
      display: block;
    }
    
    .nav-menu {
      display: none;
    }

    .hero-content {
      padding: 0 var(--space-4);
    }

    .features-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Scroll animations */
  .fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Loading state */
  .loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--secondary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--z-modal);
    transition: opacity var(--transition-base);
  }

  .loading-overlay.hidden {
    opacity: 0;
    pointer-events: none;
  }
</style>
</head>
<body>
  <a href="#main" class="skip-link">Skip to main content</a>
  
  <!-- Loading overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading"></div>
  </div>
  
  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-container">
      <div class="nav-brand">Monastery360</div>
      <ul class="nav-menu">
        <li><a href="#home" class="nav-link">Home</a></li>
        <li><a href="monasteries.html" class="nav-link">Monasteries</a></li>
        <li><a href="tourism.html" class="nav-link">Tourism</a></li>
      </ul>
      <button class="mobile-menu-toggle" aria-label="Toggle menu" onclick="toggleMobileMenu()">
        ‚ò∞
      </button>
    </div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <a href="#home">Home</a>
      <a href="monasteries.html">Monasteries</a>
      <a href="tourism.html">Tourism</a>
    </div>
  </nav>

  <main id="main">
    <!-- Hero Section -->
    <section id="home" class="hero">
      <div class="hero-content fade-in">
        <h1 class="hero-title">Monastery360</h1>
        <p class="hero-subtitle">
          Discover the spiritual, cultural, and historical treasures of Sikkim's monasteries through immersive digital experiences and interactive exploration.
        </p>
        <div class="flex justify-center" style="gap: var(--space-4); margin-top: var(--space-8);">
          <a href="monasteries.html" class="btn btn-primary">Explore Monasteries</a>
          <a href="#map-section" class="btn btn-secondary">View Map</a>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="section">
      <div class="container">
        <div class="stats-grid fade-in">
          <div class="stat-card">
            <div class="stat-number" data-count="95">0</div>
            <div>Sacred Monasteries</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" data-count="800">0</div>
            <div>Years of Heritage</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" data-count="4">0</div>
            <div>Buddhist Traditions</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" data-count="360">0</div>
            <div>Virtual Tours</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="section">
      <div class="container">
        <div class="section-title fade-in">
          <h2>Explore Sacred Heritage</h2>
          <p>Immerse yourself in the rich Buddhist culture of Sikkim through our comprehensive digital platform.</p>
        </div>
        
        <div class="features-grid">
          <div class="card feature-card fade-in">
            <div class="feature-icon">üèõÔ∏è</div>
            <h3>Historic Monasteries</h3>
            <p>Discover 95+ sacred monasteries across Sikkim, each with unique architecture, history, and spiritual significance.</p>
          </div>
          
          <div class="card feature-card fade-in">
            <div class="feature-icon">üéß</div>
            <h3>Audio Guides</h3>
            <p>Listen to expert narrations about monastery history, Buddhist practices, and cultural traditions.</p>
          </div>
          
          <div class="card feature-card fade-in">
            <div class="feature-icon">üó∫Ô∏è</div>
            <h3>Interactive Maps</h3>
            <p>Navigate through Sikkim's monasteries with our detailed interactive maps and location guides.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Map Section -->
    <section id="map-section" class="section">
      <div class="container">
        <div class="map-section fade-in">
          <div class="section-title">
            <h2>Monastery Locations</h2>
            <p>Explore the geographical distribution of Sikkim's monasteries on our interactive map.</p>
          </div>
          <div id="map"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Chatbot -->
  <div class="chatbox">
      <div class="chatbox__support">
          <div class="chatbox__header">
              <div class="chatbox__image--header">
                  <div class="avatar-circle">
                      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="20" fill="url(#avatarGradient)"/>
                        <path d="M20 12C17.79 12 16 13.79 16 16C16 18.21 17.79 20 20 20C22.21 20 24 18.21 24 16C24 13.79 22.21 12 20 12ZM20 18C18.9 18 18 17.1 18 16C18 14.9 18.9 14 20 14C21.1 14 22 14.9 22 16C22 17.1 21.1 18 20 18Z" fill="white"/>
                        <path d="M20 22C16.69 22 14 24.69 14 28V30H26V28C26 24.69 23.31 22 20 22ZM16 28C16 25.79 17.79 24 20 24C22.21 24 24 25.79 24 28H16Z" fill="white"/>
                        <defs>
                          <linearGradient id="avatarGradient" x1="0" y1="0" x2="1" y2="1">
                            <stop offset="0%" style="stop-color:#6366f1"/>
                            <stop offset="100%" style="stop-color:#8b5cf6"/>
                          </linearGradient>
                        </defs>
                      </svg>
                  </div>
              </div>
              <div class="chatbox__content--header">
                  <h4 class="chatbox__heading--header">Monastery Guide</h4>
                  <p class="chatbox__description--header">Hi! I'm Explora. How can I help you with Sikkim monasteries?</p>
              </div>
          </div>
          <div class="chatbox__messages">
              <div></div>
          </div>
          <div class="chatbox__footer">
              <input type="text" placeholder="Write a message...">
              <button class="chatbox__send--footer send__button">Send</button>
          </div>
      </div>
      <div class="chatbox__button">
          <button aria-label="Open chat">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="chatIconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6"/>
                    <stop offset="50%" style="stop-color:#6366f1"/>
                    <stop offset="100%" style="stop-color:#8b5cf6"/>
                  </linearGradient>
                </defs>
                <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z" fill="url(#chatIconGradient)"/>
                <path d="M7 9H17M7 13H13" stroke="white" stroke-width="2" stroke-linecap="round"/>
              </svg>
          </button>
      </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/ol@v7.5.0/dist/ol.js"></script>
<script>
  // Map initialization
  var map = new ol.Map({
    target: 'map',
    layers: [ new ol.layer.Tile({ source: new ol.source.OSM() }) ],
    view: new ol.View({ center: ol.proj.fromLonLat([88.61, 27.33]), zoom: 9 })
  });

  var monasteries = [
    {name: "Rumtek Dharma Chakra Centre", coords: [88.5614622, 27.2886861]},
    {name: "Mamring Monastery", coords: [88.3101201, 27.277364]},
    {name: "Enchey Monastery", coords: [88.6191659, 27.3359368]},
    {name: "Burtuk", coords: [88.6158468, 27.3539598]},
    {name: "Do Drul Chorten", coords: [88.6048366, 27.3128415]},
    {name: "Decchen Cholling Gumpa-Tamamg Gumpa", coords: [88.608536, 27.338795]},
    {name: "Bermiok Tokal Monastery", coords: [88.4690827, 27.2287152]},
    {name: "Tashiding Monastery", coords: [88.2978746, 27.3089308]},
    {name: "Sinon Monastery", coords: [88.2900301, 27.3423753]},
    {name: "Kartok Monastery", coords: [88.588005, 27.2407996]},
    {name: "Sanghak Choeling Monastery", coords: [88.2216867, 27.2977517]},
    {name: "Pema Choling Monastery", coords: [88.5310593, 27.1757119]},
    {name: "Pal Karma Zurmang Shedup Chokhor Ling Lingdum Monastery (Ranka Monastery)", coords: [88.5790387, 27.3311957]},
    {name: "Lingdum Zurmang Kagyu Monastery", coords: [88.5805594, 27.3307583]},
    {name: "Rinchenpong Monastery", coords: [88.2684733, 27.2354672]},
    {name: "Rinchen Choling Tamu Monastery/ Gurung Gompha", coords: [88.2708814, 27.2432459]},
    {name: "Pemayangtse Monastery", coords: [88.2515852, 27.3052201]},
    {name: "Okhrey Monastery", coords: [88.1019019, 27.149513]},
    {name: "Khecheopalri Monastery", coords: [88.1882768, 27.349221]},
    {name: "Hung hri Monastery", coords: [88.2535011, 27.3523006]},
    {name: "Dubdi Buddhist Monastery - Yuksom", coords: [88.2299922, 27.3665529]},
    {name: "Dodak Buddhist Monastery", coords: [88.1715435, 27.1718352]},
    {name: "Tendong Gumpa", coords: [88.4079885, 27.2061039]},
    {name: "Chang Chu Monastery", coords: [88.4032499, 27.2959417]},
    {name: "Serdup Choling Monastery", coords: [88.3547474, 27.161498]},
    {name: "Sharchhog Bayphug", coords: [88.385782, 27.2763652]},
    {name: "Ralang New Monastery", coords: [88.3352477, 27.3284964]},
    {name: "Mane Choekhorling Gompa (Ravangla Monastery)", coords: [88.518887, 28.240229]},
    {name: "Ngadak Thupten Shedup Dhargey Choeling, Monastery", coords: [88.3706278, 27.1732407]},
    {name: "Norbu Yangdup Choling Monastery", coords: [88.3773796, 27.2345473]},
    {name: "Phagyal monastery Lingee", coords: [88.4592622, 27.37048]},
    {name: "Kewzing Monastery", coords: [88.3227697, 27.2842636]},
    {name: "Doling Monastery", coords: [88.3449117, 27.287967]},
    {name: "Norbu gang, Coronation throne of Namgyal Dynasty", coords: [88.2173761, 27.3694863]},
    {name: "Bon Monastery", coords: [88.3343804, 27.278643]},
    {name: "Chawayng Ani Monastery", coords: [88.5122178, 27.5329718]},
    {name: "Tholung Monastery", coords: [88.4615734, 27.636972]},
    {name: "Tingvong Monastery", coords: [88.4767615, 27.5568019]},
    {name: "Tashi Gyan Palden Monastery", coords: [88.4127344, 27.2866497]},
    {name: "Ringhem Monastery", coords: [88.5462414, 27.4953153]},
    {name: "Phodong Monastery", coords: [88.5838205, 27.4128715]},
    {name: "Phensang Monastery", coords: [88.6101296, 27.420723]},
    {name: "Lingthem Rikzing Chopel Targelling Monastery", coords: [88.5011052, 27.5230064]},
    {name: "Lachung Monastery", coords: [88.7487553, 27.6886827]},
    {name: "Lachen Monastery", coords: [88.5577391, 27.7166667]},
    {name: "Labrang Monastery", coords: [88.5794589, 27.4180001]},
    {name: "KABI MONASTERY", coords: [88.6099182, 27.4007368]},
    {name: "HEE GYATHANG MONASTERY", coords: [88.501073, 27.4758646]},
    {name: "Simik Monastery", coords: [88.4718882, 27.2873094]},
    {name: "Rhenock Gumpa, Monastery", coords: [88.6779745, 27.1842602]},
    {name: "Tsuglakhang Monastery & Temple", coords: [88.6147222, 27.3261111]},
    {name: "Gonjang Monastery", coords: [88.6132007, 27.3690385]},
    {name: "Singtam Monastery", coords: [88.5035101, 27.2341097]},
    {name: "Mintokgang Road", coords: [88.6176397, 27.3332951]},
    {name: "Pabyuik Monastery", coords: [88.6279545, 27.2993719]},
    {name: "Old Rumtek Monastery", coords: [88.563264, 27.2846735]}
  ];

  var features = monasteries.map(function(m) {
    return new ol.Feature({ geometry: new ol.geom.Point(ol.proj.fromLonLat(m.coords)), name: m.name });
  });

  var vectorSource = new ol.source.Vector({ features: features });

  var vectorLayer = new ol.layer.Vector({
    source: vectorSource,
    style: new ol.style.Style({
      image: new ol.style.Icon({ src: 'https://cdn-icons-png.flaticon.com/512/684/684908.png', scale: 0.05 })
    })
  });

  map.addLayer(vectorLayer);

  var overlay = new ol.Overlay({ element: document.createElement('div'), positioning: 'bottom-center', stopEvent: false });
  overlay.getElement().className = 'ol-popup';
  map.addOverlay(overlay);

  map.on('singleclick', function(evt) {
    var feature = map.forEachFeatureAtPixel(evt.pixel, function(f) { return f; });
    if (feature) {
      var coordinates = feature.getGeometry().getCoordinates();
      overlay.getElement().innerHTML = feature.get('name');
      overlay.setPosition(coordinates);
      overlay.getElement().style.display = 'block';
    } else {
      overlay.getElement().style.display = 'none';
    }
  });

  // Mobile menu toggle
  function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenu.classList.toggle('active');
  }

  // Smooth scrolling for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });

  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);

  // Observe all fade-in elements
  document.querySelectorAll('.fade-in').forEach(el => {
    observer.observe(el);
  });

  // Counter animation for stats
  function animateCounter(element, start, end, duration) {
    let startTimestamp = null;
    const step = (timestamp) => {
      if (!startTimestamp) startTimestamp = timestamp;
      const progress = Math.min((timestamp - startTimestamp) / duration, 1);
      const current = Math.floor(progress * (end - start) + start);
      element.textContent = current + (end === 360 ? '¬∞' : '+');
      if (progress < 1) {
        window.requestAnimationFrame(step);
      }
    };
    window.requestAnimationFrame(step);
  }

  // Trigger counter animations when stats section is visible
  let statsAnimated = false;
  const statsObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !statsAnimated) {
        statsAnimated = true;
        document.querySelectorAll('.stat-number[data-count]').forEach(el => {
          const count = parseInt(el.getAttribute('data-count'));
          animateCounter(el, 0, count, 2000);
        });
      }
    });
  }, { threshold: 0.5 });

  const statsSection = document.querySelector('.stats-grid');
  if (statsSection) {
    statsObserver.observe(statsSection);
  }

  // Hide loading overlay after page load
  window.addEventListener('load', () => {
    setTimeout(() => {
      document.getElementById('loadingOverlay').classList.add('hidden');
    }, 500);
  });

  // Navigation background on scroll
  window.addEventListener('scroll', () => {
    const nav = document.querySelector('.nav');
    if (window.scrollY > 50) {
      nav.style.background = 'rgba(255, 255, 255, 0.98)';
    } else {
      nav.style.background = 'rgba(255, 255, 255, 0.95)';
    }
  });
</script>

<script src="assets/js/performance.js"></script>
<script>
var $SCRIPT_ROOT = '';
</script>
<script src="assets/js/chatbot.js"></script>

</body>
</html>